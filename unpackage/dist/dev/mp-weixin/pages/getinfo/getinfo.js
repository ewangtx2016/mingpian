require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([11],{42:function(e,t,n){"use strict";var o=a(n(2)),r=a(n(43));function a(e){return e&&e.__esModule?e:{default:e}}n(0).default;new o.default(r.default).$mount()},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),r=n.n(o),a=n(46),s=!1;var i=function(e){s||n(44)},u=n(1)(r.a,a.a,i,null,null);u.options.__file="..\\..\\..\\..\\xm\\uni-app\\shop\\pages\\getinfo\\getinfo.vue",u.esModule&&Object.keys(u.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),u.options.functional&&console.error("[vue-loader] getinfo.vue: functional components are not supported with templates, they should use render functions."),t.default=u.exports},44:function(e,t){},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(3),a=n(0).default;t.default={data:function(){return{}},computed:o({},(0,r.mapGetters)(["GET_CODE","GET_USERINFO"]),(0,r.mapState)(["HTTPS_URL"])),onLoad:function(e){this.type=e.type,this.cardId=e.cardId||"",this.getBy(this.cardId)},onShow:function(e){console.log("哈哈哈哈哈",e)},methods:o({},(0,r.mapMutations)(["SET_CODE"]),{getBy:function(e){var t=this,n=a.getStorageSync("CODE");return new Promise(function(o,r){a.request({url:t.HTTPS_URL+"/businessCard/bind",method:"GET",header:{Cookie:"ticket="+n.ticket},data:{cardId:""+e},success:function(e){"USER_NOT_LOGIN"===e.data.errorCode||a.navigateTo({url:"/pages/index/index"}),o(e)}})})},getuserinfo:function(e){if(e.detail.userInfo){var t=this;wx.login({success:function(n){console.log(e.detail.userInfo),a.setStorageSync("USERINFO",e.detail.userInfo),a.request({url:t.HTTPS_URL+"/businessCard/login",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{code:n.code,user:JSON.stringify(e.detail)},success:function(e){if(1===e.data.status){var o={code:n.code,tt_token:e.data.data.tt_token,ticket:e.data.data.ticket,userId:e.data.data.userId};a.setStorageSync("CODE",o),t.getBy()}}})}})}}})}},46:function(e,t,n){"use strict";var o=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"getuserinfo"},[t("button",{attrs:{"open-type":"getUserInfo",eventid:"0"},on:{getuserinfo:this.getuserinfo}},[this._v("获取用户授权")])],1)};o._withStripped=!0;var r={render:o,staticRenderFns:[]};t.a=r}},[42]);
//# sourceMappingURL=../../.sourcemap/pages/getinfo/getinfo.js.map